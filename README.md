# Share 文件分享工具

## 项目简介

这是一个基于 FastAPI 开发的文件分享和即时通讯工具。通过简单易用的网页界面，用户可以快速上传和分享各类文件，同时支持实时聊天交流，提高团队协作效率。该工具不需要注册账号，即开即用，适合小型团队或临时需要分享文件的场景。

## 功能特点

- 📁 快速文件分享与传输
  - 支持多种类型文件的上传和下载
  - 支持大文件分片上传，自动合并
  - 提供实时进度显示
- 💬 即时消息交流系统
  - 实时聊天功能，支持多人同时在线交流
  - 聊天记录持久化存储
  - 显示用户在线状态
- 🔄 实时通知和更新
  - 文件上传、删除等操作实时通知所有在线用户
  - 基于 WebSocket 的实时数据推送
- 👥 无需注册的用户系统
  - 自动生成临时用户名
  - 记录用户活动状态
  - 30分钟不活跃自动清理用户信息
- 📊 操作日志记录
  - 详细记录用户活动，便于追踪和管理
- 🛡️ 基本权限控制
  - 仅文件上传者可删除自己的文件

## 技术栈

- **后端**：Python FastAPI
- **前端**：HTML、CSS、JavaScript
- **通信**：WebSocket
- **数据存储**：JSON文件（本地持久化）

## 安装说明

### 前提条件

- Python 3.7+
- pip (Python包管理器)

### 安装步骤

```bash
# 克隆仓库
git clone https://github.com/yourusername/share.git

# 进入项目目录
cd share

# 安装依赖
pip install fastapi uvicorn python-multipart

# 启动应用
python share.py
# 或使用 uvicorn
uvicorn share:app --host 0.0.0.0 --port 8000
```

## 使用方法

1. 启动应用后，在浏览器中访问 `http://localhost:8000`
2. 系统会自动为你分配一个临时用户名
3. 上传文件：
   - 点击上传区域选择文件或拖放文件
   - 文件将立即上传并可供所有用户访问
4. 下载文件：
   - 在文件列表中点击相应文件的"下载"按钮
   - 大文件会显示下载进度
5. 删除文件：
   - 只有文件上传者可以删除自己的文件
   - 点击文件右侧的"删除"按钮
6. 聊天功能：
   - 在右侧聊天面板输入消息并发送
   - 所有在线用户都能看到消息
   - 可查看近期100条聊天记录
7. 查看在线用户：
   - 点击聊天面板顶部的"在线用户"选项卡

## 配置说明

默认情况下，应用会：

- 在端口 8000 上运行
- 将文件存储在 `files/` 目录中
- 将日志保存在 `logs/share_tool.log` 文件中
- 将用户信息保存在 `users.json` 文件中
- 将文件信息保存在 `file.json` 文件中
- 将消息记录保存在时间戳命名的JSON文件中

## 贡献指南

欢迎提交 Pull Request 或创建 Issue 来帮助改进项目！

## 许可证

本项目采用 MIT 许可证 - 详情请查看 [LICENSE](LICENSE) 文件
